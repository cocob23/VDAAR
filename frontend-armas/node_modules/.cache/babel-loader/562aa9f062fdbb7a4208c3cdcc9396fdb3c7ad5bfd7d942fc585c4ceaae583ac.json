{"ast":null,"code":"import'./App.css';import FormularioArma from'./FormularioArma';import RequireAuth from'./RequireAuth';import LoginRegistro from'./LoginRegistro';import Listado from'./Listado';import Navbar from'./Navbar';import AvisoLegal from'./AvisoLegal';import LoginAdmin from'./LoginAdmin';import PanelAdmin from'./PanelAdmin';import DetalleArma from'./DetalleArma';import ResetPassword from'./ResetPassword';import Perfil from'./Perfil';import Guia from'./Guia';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[adminAutenticado,setAdminAutenticado]=useState(false);const[cargandoAuth,setCargandoAuth]=useState(true);useEffect(()=>{const checkSession=async()=>{const{data:{session}}=await import('./supabaseClient').then(m=>m.supabase.auth.getSession());setAdminAutenticado(!!session);setCargandoAuth(false);};checkSession();},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/reset-password\",element:/*#__PURE__*/_jsx(ResetPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:cargandoAuth?/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"}):adminAutenticado?/*#__PURE__*/_jsx(PanelAdmin,{}):/*#__PURE__*/_jsx(LoginAdmin,{onLogin:()=>window.location.reload()})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Listado,{})}),/*#__PURE__*/_jsx(Route,{path:\"/publicar\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(FormularioArma,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/perfil\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(Perfil,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginRegistro,{onAuth:()=>window.location.replace('/publicar')})}),/*#__PURE__*/_jsx(Route,{path:\"/contacto\",element:/*#__PURE__*/_jsx(Guia,{})}),/*#__PURE__*/_jsx(Route,{path:\"/aviso-legal\",element:/*#__PURE__*/_jsx(AvisoLegal,{})}),/*#__PURE__*/_jsx(Route,{path:\"/arma/:id\",element:/*#__PURE__*/_jsx(DetalleArma,{})})]})]})});}export default App;","map":{"version":3,"names":["FormularioArma","RequireAuth","LoginRegistro","Listado","Navbar","AvisoLegal","LoginAdmin","PanelAdmin","DetalleArma","ResetPassword","Perfil","Guia","BrowserRouter","Router","Routes","Route","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","adminAutenticado","setAdminAutenticado","cargandoAuth","setCargandoAuth","checkSession","data","session","then","m","supabase","auth","getSession","children","className","path","element","onLogin","window","location","reload","onAuth","replace"],"sources":["C:/Users/co/Desktop/VDAAR/frontend-armas/src/App.js"],"sourcesContent":["\r\nimport './App.css';\r\nimport FormularioArma from './FormularioArma';\r\nimport RequireAuth from './RequireAuth';\r\nimport LoginRegistro from './LoginRegistro';\r\nimport Listado from './Listado';\r\nimport Navbar from './Navbar';\r\nimport AvisoLegal from './AvisoLegal';\r\nimport LoginAdmin from './LoginAdmin';\r\nimport PanelAdmin from './PanelAdmin';\r\nimport DetalleArma from './DetalleArma';\r\nimport ResetPassword from './ResetPassword';\r\nimport Perfil from './Perfil';\r\nimport Guia from './Guia';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\n\r\nfunction App() {\r\n  const [adminAutenticado, setAdminAutenticado] = useState(false);\r\n  const [cargandoAuth, setCargandoAuth] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const checkSession = async () => {\r\n      const { data: { session } } = await import('./supabaseClient').then(m => m.supabase.auth.getSession());\r\n      setAdminAutenticado(!!session);\r\n      setCargandoAuth(false);\r\n    };\r\n    checkSession();\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Navbar />\r\n        <Routes>\r\n          <Route path=\"/reset-password\" element={<ResetPassword />} />\r\n          <Route path=\"/admin\" element={\r\n            cargandoAuth ? <p>Cargando...</p> :\r\n            adminAutenticado ? <PanelAdmin /> : <LoginAdmin onLogin={() => window.location.reload()} />\r\n          } />\r\n          <Route path=\"/\" element={<Listado />} />\r\n          <Route path=\"/publicar\" element={\r\n            <RequireAuth>\r\n              <FormularioArma />\r\n            </RequireAuth>\r\n          } />\r\n          <Route path=\"/perfil\" element={\r\n            <RequireAuth>\r\n              <Perfil />\r\n            </RequireAuth>\r\n          } />\r\n          <Route path=\"/login\" element={<LoginRegistro onAuth={() => window.location.replace('/publicar')} />} />\r\n          <Route path=\"/contacto\" element={<Guia />} />\r\n          <Route path=\"/aviso-legal\" element={<AvisoLegal />} />\r\n          <Route path=\"/arma/:id\" element={<DetalleArma />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}