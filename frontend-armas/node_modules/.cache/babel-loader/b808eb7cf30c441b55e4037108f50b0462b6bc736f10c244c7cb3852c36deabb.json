{"ast":null,"code":"import'./App.css';import FormularioArma from'./FormularioArma';import RequireAuth from'./RequireAuth';import LoginRegistro from'./LoginRegistro';import Listado from'./Listado';import Navbar from'./Navbar';import AvisoLegal from'./AvisoLegal';import LoginAdmin from'./LoginAdmin';import PanelAdmin from'./PanelAdmin';import DetalleArma from'./DetalleArma';import ResetPassword from'./ResetPassword';import Perfil from'./Perfil';import Guia from'./Guia';import{BrowserRouter as Router,Routes,Route,useLocation}from'react-router-dom';import{useEffect,useState}from'react';import{Helmet}from\"react-helmet\";import Footer from'./Footer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TrackPageViews(){const location=useLocation();useEffect(()=>{if(typeof window.gtag==='function'){window.gtag('config','G-379M3MFEGY',{page_path:location.pathname+location.search});}},[location]);return null;}function App(){const[adminAutenticado,setAdminAutenticado]=useState(false);const[cargandoAuth,setCargandoAuth]=useState(true);useEffect(()=>{const checkSession=async()=>{try{const{supabase}=await import('./supabaseClient');const{data:{session}}=await supabase.auth.getSession();setAdminAutenticado(!!session);}catch(_e){// Ignorar errores de red; no bloquear la UI\n}finally{setCargandoAuth(false);}};checkSession();},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(TrackPageViews,{}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/reset-password\",element:/*#__PURE__*/_jsx(ResetPassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:cargandoAuth?/*#__PURE__*/_jsx(\"p\",{children:\"Cargando...\"}):adminAutenticado?/*#__PURE__*/_jsx(PanelAdmin,{}):/*#__PURE__*/_jsx(LoginAdmin,{onLogin:()=>window.location.reload()})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Listado,{})}),/*#__PURE__*/_jsx(Route,{path:\"/publicar\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(FormularioArma,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/perfil\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(Perfil,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginRegistro,{onAuth:()=>window.location.replace('/publicar')})}),/*#__PURE__*/_jsx(Route,{path:\"/contacto\",element:/*#__PURE__*/_jsx(Guia,{})}),/*#__PURE__*/_jsx(Route,{path:\"/aviso-legal\",element:/*#__PURE__*/_jsx(AvisoLegal,{})}),/*#__PURE__*/_jsx(Route,{path:\"/arma/:id\",element:/*#__PURE__*/_jsx(DetalleArma,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["FormularioArma","RequireAuth","LoginRegistro","Listado","Navbar","AvisoLegal","LoginAdmin","PanelAdmin","DetalleArma","ResetPassword","Perfil","Guia","BrowserRouter","Router","Routes","Route","useLocation","useEffect","useState","Helmet","Footer","jsx","_jsx","jsxs","_jsxs","TrackPageViews","location","window","gtag","page_path","pathname","search","App","adminAutenticado","setAdminAutenticado","cargandoAuth","setCargandoAuth","checkSession","supabase","data","session","auth","getSession","_e","children","className","path","element","onLogin","reload","onAuth","replace"],"sources":["/Users/coco/Desktop/VDAAR/frontend-armas/src/App.js"],"sourcesContent":["\nimport './App.css';\nimport FormularioArma from './FormularioArma';\nimport RequireAuth from './RequireAuth';\nimport LoginRegistro from './LoginRegistro';\nimport Listado from './Listado';\nimport Navbar from './Navbar';\nimport AvisoLegal from './AvisoLegal';\nimport LoginAdmin from './LoginAdmin';\nimport PanelAdmin from './PanelAdmin';\nimport DetalleArma from './DetalleArma';\nimport ResetPassword from './ResetPassword';\nimport Perfil from './Perfil';\nimport Guia from './Guia';\nimport { BrowserRouter as Router, Routes, Route, useLocation } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { Helmet } from \"react-helmet\";\nimport Footer from './Footer';\n\n\nfunction TrackPageViews() {\n  const location = useLocation();\n  useEffect(() => {\n    if (typeof window.gtag === 'function') {\n      window.gtag('config', 'G-379M3MFEGY', {\n        page_path: location.pathname + location.search,\n      });\n    }\n  }, [location]);\n  return null;\n}\n\nfunction App() {\n  const [adminAutenticado, setAdminAutenticado] = useState(false);\n  const [cargandoAuth, setCargandoAuth] = useState(true);\n\n  useEffect(() => {\n    const checkSession = async () => {\n      try {\n        const { supabase } = await import('./supabaseClient');\n        const { data: { session } } = await supabase.auth.getSession();\n        setAdminAutenticado(!!session);\n      } catch (_e) {\n        // Ignorar errores de red; no bloquear la UI\n      } finally {\n        setCargandoAuth(false);\n      }\n    };\n    checkSession();\n  }, []);\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <TrackPageViews />\n        <Navbar />\n        <Routes>\n          <Route path=\"/reset-password\" element={<ResetPassword />} />\n          <Route path=\"/admin\" element={\n            cargandoAuth ? <p>Cargando...</p> :\n            adminAutenticado ? <PanelAdmin /> : <LoginAdmin onLogin={() => window.location.reload()} />\n          } />\n          <Route path=\"/\" element={<Listado />} />\n          <Route path=\"/publicar\" element={\n            <RequireAuth>\n              <FormularioArma />\n            </RequireAuth>\n          } />\n          <Route path=\"/perfil\" element={\n            <RequireAuth>\n              <Perfil />\n            </RequireAuth>\n          } />\n          <Route path=\"/login\" element={<LoginRegistro onAuth={() => window.location.replace('/publicar')} />} />\n          <Route path=\"/contacto\" element={<Guia />} />\n          <Route path=\"/aviso-legal\" element={<AvisoLegal />} />\n          <Route path=\"/arma/:id\" element={<DetalleArma />} />\n        </Routes>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"AACA,MAAO,WAAW,CAClB,MAAO,CAAAA,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,WAAW,KAAQ,kBAAkB,CACtF,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG9B,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9BC,SAAS,CAAC,IAAM,CACd,GAAI,MAAO,CAAAU,MAAM,CAACC,IAAI,GAAK,UAAU,CAAE,CACrCD,MAAM,CAACC,IAAI,CAAC,QAAQ,CAAE,cAAc,CAAE,CACpCC,SAAS,CAAEH,QAAQ,CAACI,QAAQ,CAAGJ,QAAQ,CAACK,MAC1C,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACL,QAAQ,CAAC,CAAC,CACd,MAAO,KAAI,CACb,CAEA,QAAS,CAAAM,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC/D,KAAM,CAACiB,YAAY,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAEtDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAEC,QAAS,CAAC,CAAG,KAAM,OAAM,CAAC,kBAAkB,CAAC,CACrD,KAAM,CAAEC,IAAI,CAAE,CAAEC,OAAQ,CAAE,CAAC,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAACC,UAAU,CAAC,CAAC,CAC9DR,mBAAmB,CAAC,CAAC,CAACM,OAAO,CAAC,CAChC,CAAE,MAAOG,EAAE,CAAE,CACX;AAAA,CACD,OAAS,CACRP,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,CACDC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEf,IAAA,CAACT,MAAM,EAAA+B,QAAA,cACLpB,KAAA,QAAKqB,SAAS,CAAC,KAAK,CAAAD,QAAA,eAClBtB,IAAA,CAACG,cAAc,GAAE,CAAC,cAClBH,IAAA,CAAClB,MAAM,GAAE,CAAC,cACVoB,KAAA,CAACV,MAAM,EAAA8B,QAAA,eACLtB,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,iBAAiB,CAACC,OAAO,cAAEzB,IAAA,CAACb,aAAa,GAAE,CAAE,CAAE,CAAC,cAC5Da,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,QAAQ,CAACC,OAAO,CAC1BZ,YAAY,cAAGb,IAAA,MAAAsB,QAAA,CAAG,aAAW,CAAG,CAAC,CACjCX,gBAAgB,cAAGX,IAAA,CAACf,UAAU,GAAE,CAAC,cAAGe,IAAA,CAAChB,UAAU,EAAC0C,OAAO,CAAEA,CAAA,GAAMrB,MAAM,CAACD,QAAQ,CAACuB,MAAM,CAAC,CAAE,CAAE,CAC3F,CAAE,CAAC,cACJ3B,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEzB,IAAA,CAACnB,OAAO,GAAE,CAAE,CAAE,CAAC,cACxCmB,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,WAAW,CAACC,OAAO,cAC7BzB,IAAA,CAACrB,WAAW,EAAA2C,QAAA,cACVtB,IAAA,CAACtB,cAAc,GAAE,CAAC,CACP,CACd,CAAE,CAAC,cACJsB,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,SAAS,CAACC,OAAO,cAC3BzB,IAAA,CAACrB,WAAW,EAAA2C,QAAA,cACVtB,IAAA,CAACZ,MAAM,GAAE,CAAC,CACC,CACd,CAAE,CAAC,cACJY,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEzB,IAAA,CAACpB,aAAa,EAACgD,MAAM,CAAEA,CAAA,GAAMvB,MAAM,CAACD,QAAQ,CAACyB,OAAO,CAAC,WAAW,CAAE,CAAE,CAAE,CAAE,CAAC,cACvG7B,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEzB,IAAA,CAACX,IAAI,GAAE,CAAE,CAAE,CAAC,cAC7CW,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,cAAc,CAACC,OAAO,cAAEzB,IAAA,CAACjB,UAAU,GAAE,CAAE,CAAE,CAAC,cACtDiB,IAAA,CAACP,KAAK,EAAC+B,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEzB,IAAA,CAACd,WAAW,GAAE,CAAE,CAAE,CAAC,EAC9C,CAAC,cACTc,IAAA,CAACF,MAAM,GAAE,CAAC,EACP,CAAC,CACA,CAAC,CAEb,CAEA,cAAe,CAAAY,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}